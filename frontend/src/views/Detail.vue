<template>
  <div class="detail-container">
    <div class="detail-wrap">
      <div class="detail-left">
        <div class="back">
          <img @click="backHome" src="../assets/img/back.svg" class="back-to-home" alt />
        </div>
        <div class="content">
          <h1 id="ç¬¬-5-ç« -ç­–ç•¥æ¨¡å¼">ç¬¬ 5 ç«  ç­–ç•¥æ¨¡å¼</h1>
          <p class="createtime">2020-08-10</p>
          <p>åœ¨ç°å®ç”Ÿæ´»ä¸­ï¼Œå¾ˆå¤šæ—¶å€™æœ‰å¤šç§é€”å¾„åˆ°è¾¾åŒä¸€ä¸ªç›®çš„åœ°ã€‚æ¯”å¦‚æˆ‘ä»¬è¦å»æŸä¸ªåœ°æ–¹æ—…æ¸¸ï¼Œå¯ä»¥æ ¹æ®å…·ä½“çš„å®é™…æƒ…å†µæ¥é€‰æ‹©å‡ºè¡Œçš„çº¿è·¯ï¼š</p>
          <ul>
            <li>å¦‚æœæ²¡æœ‰é’±ä½†æ˜¯ä¸åœ¨ä¹é’±ï¼Œå¯ä»¥é€‰æ‹©åé£æœºï¼›</li>
            <li>å¦‚æœæ²¡æœ‰é’±ï¼Œå¯ä»¥é€‰æ‹©åå¤§å·´æˆ–è€…ç«è½¦ï¼›</li>
            <li>å¦‚æœå†ç©·ä¸€ç‚¹ï¼Œå¯ä»¥é€‰æ‹©éª‘è‡ªè¡Œè½¦</li>
          </ul>
          <p>ç­–ç•¥æ¨¡å¼çš„å®šä¹‰æ˜¯ï¼šå®šä¹‰ä¸€ç³»åˆ—çš„ç®—æ³•ï¼ŒæŠŠå®ƒä»¬ä¸€ä¸ªä¸ªå°è£…èµ·æ¥ï¼Œå¹¶ä¸”ä½¿å®ƒä»¬å¯ä»¥ç›¸äº’æ›¿æ¢ã€‚</p>
          <h2 id="50-é¢„è§ˆ">5.0 é¢„è§ˆ</h2>
          <p>æœ¬ç« æ˜¯æœ¬ä¹¦æ­£å¼ä»‹ç»çš„ç¬¬äºŒä¸ªè®¾è®¡æ¨¡å¼ï¼Œç­–ç•¥æ¨¡å¼å¸¸å¸¸ä½¿ç”¨äºåŒä¸€ç›®æ ‡ä¸åŒæ‰§è¡Œè¿‡ç¨‹çš„åœºæ™¯ï¼Œä½¿ç”¨å…¶å¯ä»¥æœ‰æ•ˆçš„è§„é¿å¤§é‡çš„if-elseè¯­å¥ã€‚</p>
          <h2 id="51-ä½¿ç”¨ç­–ç•¥æ¨¡å¼è®¡ç®—å¥–é‡‘">5.1 ä½¿ç”¨ç­–ç•¥æ¨¡å¼è®¡ç®—å¥–é‡‘</h2>
          <p>å¾ˆå¤šå…¬å¸çš„å¹´ç»ˆå¥–æ˜¯æ ¹æ®å‘˜å·¥çš„å·¥èµ„åŸºæ•°å’Œå¹´åº•ç»©æ•ˆæƒ…å†µæ¥å‘çš„ã€‚ä¾‹å¦‚ï¼Œç»©æ•ˆä¸ºSçš„äººå¹´ç»ˆå¥–æœ‰4å€å·¥èµ„ï¼Œç»©æ•ˆä¸ºAçš„äººå¹´ç»ˆå¥–æœ‰3å€å·¥èµ„ï¼Œè€Œç»©æ•ˆä¸ºBçš„äººå¹´ç»ˆå¥–æ˜¯2å€å·¥èµ„ã€‚å‡è®¾è´¢åŠ¡éƒ¨è¦æ±‚æˆ‘ä»¬æä¾›ä¸€æ®µä»£ç ï¼Œæ¥æ–¹ä¾¿ä»–ä»¬è®¡ç®—å‘˜å·¥çš„å¹´ç»ˆå¥–ã€‚</p>
          <p>
            <strong>1. æœ€åˆçš„ä»£ç å®ç°</strong>
          </p>
          <pre><code class="language-js"><span class="hljs-keyword">var</span> calculateBonus = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(performanceLevel, salary)</span> </span>{
    <span class="hljs-keyword">if</span> (performanceLevel === <span class="hljs-string">"S"</span>) {
        <span class="hljs-keyword">return</span> salary * <span class="hljs-number">4</span>;
    }

    <span class="hljs-keyword">if</span> (performanceLevel === <span class="hljs-string">"A"</span>) {
        <span class="hljs-keyword">return</span> salary * <span class="hljs-number">3</span>;
    }

    <span class="hljs-keyword">if</span> (performanceLevel === <span class="hljs-string">"B"</span>) {
        <span class="hljs-keyword">return</span> salary * <span class="hljs-number">2</span>;
    }
}</code></pre>
          <p>ç¼ºç‚¹ï¼š</p>
          <ul>
            <li>
              <code>calculateBonus</code>å‡½æ•°æ¯”è¾ƒåºå¤§ï¼ŒåŒ…å«äº†å¾ˆå¤šif-elseè¯­å¥ï¼›
            </li>
            <li>ç¼ºä¹å¼¹æ€§ï¼›</li>
            <li>ç®—æ³•çš„å¤ç”¨æ€§å·®</li>
          </ul>
          <p>
            <strong>2. ä½¿ç”¨ç»„åˆå‡½æ•°é‡æ„ä»£ç </strong>
          </p>
          <pre><code class="language-js"><span class="hljs-keyword">var</span> performanceS = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(salary)</span> </span>{
    <span class="hljs-keyword">return</span> salary * <span class="hljs-number">4</span>;
}

<span class="hljs-keyword">var</span> performanceA = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(salary)</span> </span>{
    <span class="hljs-keyword">return</span> salary * <span class="hljs-number">3</span>;
}

<span class="hljs-keyword">var</span> calculateBonus = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(performanceLevel, salary)</span> </span>{
    <span class="hljs-keyword">if</span> (performanceLevel === <span class="hljs-string">"S"</span>) {
        <span class="hljs-keyword">return</span> performanceS(salary);
    }

    <span class="hljs-keyword">if</span> (performanceLevel === <span class="hljs-string">"A"</span>) {
        <span class="hljs-keyword">return</span> performanceA(salary);
    }
}</code></pre>
          <p>
            <strong>3. ä½¿ç”¨ç­–ç•¥æ¨¡å¼é‡æ„ä»£ç </strong>
          </p>
          <p>ç­–ç•¥æ¨¡å¼æŒ‡çš„æ˜¯å®šä¹‰ä¸€ç³»åˆ—çš„ç®—æ³•ï¼ŒæŠŠå®ƒä»¬ä¸€ä¸ªä¸ªå°è£…èµ·æ¥ã€‚å°†ä¸å˜çš„éƒ¨åˆ†å’Œå˜åŒ–çš„éƒ¨åˆ†éš”å¼€æ˜¯æ¯ä¸ªè®¾è®¡æ¨¡å¼çš„ä¸»é¢˜ï¼Œç­–ç•¥æ¨¡å¼ä¹Ÿä¸ä¾‹å¤–ï¼Œç­–ç•¥æ¨¡å¼çš„ç›®çš„å°±æ˜¯å°†ç®—æ³•çš„ä½¿ç”¨ä¸ç®—æ³•çš„å®ç°åˆ†ç¦»å¼€æ¥ã€‚</p>
          <p>ä¸€ä¸ªåŸºäºç­–ç•¥æ¨¡å¼çš„ç¨‹åºè‡³å°‘ç”±ä¸¤éƒ¨åˆ†ç»„æˆã€‚ç¬¬ä¸€ä¸ªéƒ¨åˆ†æ˜¯ä¸€ç»„ç­–ç•¥ç±»ï¼Œç­–ç•¥ç±»å°è£…äº†å…·ä½“ç®—æ³•ï¼Œå¹¶è´Ÿè´£å…·ä½“çš„è®¡ç®—è¿‡ç¨‹ã€‚ç¬¬äºŒä¸ªéƒ¨åˆ†æ˜¯ç¯å¢ƒç±»Contextï¼ŒContextæ¥å—å®¢æˆ·çš„è¯·æ±‚ï¼ŒéšåæŠŠè¯·æ±‚å§”æ‰˜ç»™æŸä¸€ä¸ªç­–ç•¥ç±»ã€‚è¦åšåˆ°è¿™ç‚¹ï¼Œè¯´æ˜Contextä¸­ç»´æŒå¯¹æŸä¸ªç­–ç•¥å¯¹è±¡çš„å¼•ç”¨ã€‚</p>
          <pre><code class="language-js"><span class="hljs-keyword">var</span> performanceS = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{};

performanceS.prototype.calculate = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">salary</span>) </span>{
    <span class="hljs-keyword">return</span> salary * <span class="hljs-number">4</span>;
}

<span class="hljs-keyword">var</span> performanceA = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{};

performanceA.prototype.calculate = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">salary</span>) </span>{
    <span class="hljs-keyword">return</span> salary * <span class="hljs-number">3</span>;
}

<span class="hljs-comment">// å¥–é‡‘ç±»Bonus</span>
<span class="hljs-keyword">var</span> Bonus = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">this</span>.salary = <span class="hljs-literal">null</span>; <span class="hljs-comment">// åŸå§‹å·¥èµ„</span>
    <span class="hljs-keyword">this</span>.strategy = <span class="hljs-literal">null</span>; <span class="hljs-comment">// ç»©æ•ˆç­‰çº§å¯¹åº”çš„ç­–ç•¥å¯¹è±¡</span>
}

Bonus.prototype.setSalary = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">salary</span>) </span>{
    <span class="hljs-keyword">this</span>.salary = salary;
}

Bonus.prototype.setStrategy = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">strategy</span>) </span>{
    <span class="hljs-keyword">this</span>.strategy = strategy;
}

Bonus.prototype.getBonus = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>.strategy) {
        <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>(<span class="hljs-string">"æœªè®¾ç½®strategyå±æ€§"</span>);
    }

    <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.strategy.calculate(<span class="hljs-keyword">this</span>.salary);
}
</code></pre>
          <p>ä½¿ç”¨ä¸Šé¢çš„ä»£ç ï¼š</p>
          <pre><code class="language-js">var bonus = <span class="hljs-keyword">new</span> <span class="hljs-constructor">Bonus()</span>;

bonus.set<span class="hljs-constructor">Salay(1000)</span>;
bonus.set<span class="hljs-constructor">Strategy(<span class="hljs-params">new</span> <span class="hljs-params">performanceS</span>()</span>); <span class="hljs-comment">// è®¾ç½®ç­–ç•¥å¯¹è±¡</span></code></pre>
          <h2 id="52-javascriptç‰ˆæœ¬çš„ç­–ç•¥æ¨¡å¼">5.2 JavaScriptç‰ˆæœ¬çš„ç­–ç•¥æ¨¡å¼</h2>
          <p>ä¸Šé¢çš„ç‰ˆæœ¬æ˜¯æ¨¡ä»¿ä¼ ç»Ÿé™æ€è¯­è¨€çš„å®ç°æ–¹å¼ï¼Œåœ¨jsä¸­ï¼Œå®ç°æ›´åŠ ç®€å•ï¼š</p>
          <pre><code class="language-js"><span class="hljs-keyword">var</span> strategies = {
    <span class="hljs-string">"S"</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">salary</span>) </span>{
        <span class="hljs-keyword">return</span> salary * <span class="hljs-number">4</span>;
    },
    <span class="hljs-string">"A"</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">salary</span>) </span>{
        <span class="hljs-keyword">return</span> salary * <span class="hljs-number">3</span>;
    }
};

<span class="hljs-keyword">var</span> calculateBonus = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">level, salary</span>) </span>{
    <span class="hljs-keyword">return</span> strategies[level](salary);
}

<span class="hljs-built_in">console</span>.log(calculateBonus(<span class="hljs-string">"S"</span>, <span class="hljs-number">20000</span>)); <span class="hljs-comment">// 80000</span></code></pre>
          <h2 id="53-å¤šæ€åœ¨ç­–ç•¥æ¨¡å¼ä¸­çš„ä½“ç°">5.3 å¤šæ€åœ¨ç­–ç•¥æ¨¡å¼ä¸­çš„ä½“ç°</h2>
          <p>æ¯ä¸ªç­–ç•¥å¯¹è±¡è´Ÿè´£çš„ç®—æ³•å·²è¢«å„è‡ªå°è£…åœ¨å¯¹è±¡å†…éƒ¨ã€‚å½“æˆ‘ä»¬å¯¹è¿™äº›ç­–ç•¥å¯¹è±¡å‘å‡ºè¯·æ±‚æ—¶ï¼Œå®ƒä»¬ä¼šè¿”å›ä¸åŒçš„è®¡ç®—ç»“æœï¼Œè¿™æ­£æ˜¯å¯¹è±¡å¤šæ€æ€§çš„ä½“ç°ã€‚</p>
          <p>ã€å®ƒä»¬å¯ä»¥äº’ç›¸æ›¿æ¢ã€æ›¿æ¢ context ä¸­å½“å‰ä¿å­˜çš„ç­–ç•¥å¯¹è±¡ï¼Œä¾¿èƒ½æ‰§è¡Œä¸åŒçš„ç®—æ³•æ¥å¾—åˆ°æˆ‘ä»¬æƒ³è¦çš„ç»“æœã€‚</p>
          <h2 id="54-ä½¿ç”¨ç­–ç•¥æ¨¡å¼å®ç°ç¼“åŠ¨åŠ¨ç”»">5.4 ä½¿ç”¨ç­–ç•¥æ¨¡å¼å®ç°ç¼“åŠ¨åŠ¨ç”»</h2>
          <h2 id="541-å®ç°åŠ¨ç”»æ•ˆæœçš„åŸç†">5.4.1 å®ç°åŠ¨ç”»æ•ˆæœçš„åŸç†</h2>
          <p>æ›´æ¢divçš„ä½ç½®ä»¥åŠèƒŒæ™¯å®šä½ã€‚</p>
          <h3 id="542-æ€è·¯å’Œä¸€äº›å‡†å¤‡å·¥ä½œ">5.4.2 æ€è·¯å’Œä¸€äº›å‡†å¤‡å·¥ä½œ</h3>
          <ul>
            <li>åŠ¨ç”»å¼€å§‹æ—¶ï¼Œå°çƒæ‰€åœ¨çš„åŸå§‹ä½ç½®ï¼›</li>
            <li>å°çƒç§»åŠ¨çš„ç›®æ ‡ä½ç½®ï¼›</li>
            <li>åŠ¨ç”»å¼€å§‹æ—¶çš„ç²¾ç¡®æ—¶é—´ç‚¹ï¼›</li>
            <li>å°çƒè¿åŠ¨æŒç»­çš„æ—¶é—´ã€‚</li>
          </ul>
          <p>
            éšåï¼Œæˆ‘ä»¬ä¼šç”¨
            <code>setInterval</code>åˆ›å»ºä¸€ä¸ªå®šæ—¶å™¨ï¼Œåœ¨å®šæ—¶å™¨çš„æ¯ä¸€å¸§é‡Œï¼Œæˆ‘ä»¬ä¼šæŠŠåŠ¨ç”»å·²æ¶ˆè€—çš„æ—¶é—´ã€å°çƒåŸå§‹ä½ç½®ã€å°çƒç›®æ ‡ä½ç½®å’ŒåŠ¨ç”»æŒç»­çš„æ€»æ—¶é—´ç­‰ä¿¡æ¯ä¼ å…¥ç¼“åŠ¨ç®—æ³•ã€‚è¯¥ç®—æ³•ä¼šé€šè¿‡è¿™å‡ ä¸ªå‚æ•°ï¼Œè®¡ç®—å‡ºå°çƒå½“å‰åº”è¯¥æ‰€åœ¨çš„ä½ç½®ã€‚æœ€åå†æ›´æ–°divå¯¹åº”çš„CSSå±æ€§ã€‚
          </p>
          <h3 id="543-è®©å°çƒè¿åŠ¨èµ·æ¥">5.4.3 è®©å°çƒè¿åŠ¨èµ·æ¥</h3>
          <p>ä¸‹é¢æ˜¯ä¸€äº›æºè‡ªäºFlashçš„ç¼“åŠ¨ç®—æ³•ï¼š</p>
          <pre><code class="language-js">var tween = {
    linear: <span class="hljs-keyword">function</span> <span class="hljs-title"></span>(t, b, c, d) {
        <span class="hljs-keyword">return</span> <span class="hljs-type">c</span> * t / d + b;
    },
    easeIn: <span class="hljs-keyword">function</span> <span class="hljs-title"></span>(t, b, c, d) {
        <span class="hljs-keyword">return</span> <span class="hljs-type">c</span> * (t /= d) * t + b;
    },
    strongEaseIn: <span class="hljs-keyword">function</span> <span class="hljs-title"></span>(t, b, c, d) {
        <span class="hljs-keyword">return</span> <span class="hljs-type">c</span> * (t /= d) * t * t * t * t + b;
    },
    strongEaseOut: <span class="hljs-keyword">function</span> <span class="hljs-title"></span>(t, b, c, d) {
        <span class="hljs-keyword">return</span> <span class="hljs-type">c</span> * ((t = t / d - <span class="hljs-number">1</span>) * t * t * t * t + <span class="hljs-number">1</span>) + b;
    },
    sineaseIn: <span class="hljs-keyword">function</span> <span class="hljs-title"></span>(t, b, c, d) {
        <span class="hljs-keyword">return</span> <span class="hljs-type">c</span> * (t /= d) * t * t + b;
    },
    sineaseOut: <span class="hljs-keyword">function</span> <span class="hljs-title"></span>(t, b, c, d) {
        <span class="hljs-keyword">return</span> <span class="hljs-type">c</span> * ((t = t / d - <span class="hljs-number">1</span>) * t * t + <span class="hljs-number">1</span>) + b;
    }
}</code></pre>
          <p>ä¸‹é¢å¼€å§‹ç¼–å†™å®Œæ•´ä»£ç ï¼Œæ€æƒ³æ¥è‡ªäºjQueryåº“ï¼Œç”±äºæœ¬èŠ‚çš„ç›®æ ‡æ˜¯æ¼”ç¤ºç­–ç•¥æ¨¡å¼ï¼Œè€Œéç¼–å†™ä¸€ä¸ªå®Œæ•´çš„åŠ¨ç”»åº“ï¼Œå› æ­¤çœå»äº†åŠ¨ç”»çš„é˜Ÿåˆ—æ§åˆ¶ç­‰æ›´å¤šå®Œæ•´åŠŸèƒ½ã€‚</p>
          <p>é¦–å…ˆåœ¨é¡µé¢ä¸­æ”¾ç½®ä¸€ä¸ªdivï¼š</p>
          <pre><code class="language-html">&lt;body&gt;
    &lt;<span class="hljs-keyword">div</span> style=<span class="hljs-string">"position:absolute;background:blue;width:100px;height:100px"</span> <span class="hljs-built_in">id</span>=<span class="hljs-string">"div"</span>&gt;
           æˆ‘æ˜¯<span class="hljs-keyword">div</span>
    &lt;/<span class="hljs-keyword">div</span>&gt;
&lt;/body&gt;</code></pre>
          <p>
            æ¥ä¸‹æ¥å®šä¹‰
            <code>Animate</code>ç±»ï¼Œå…¶æ„é€ å‡½æ•°æ¥æ”¶ä¸€ä¸ªå‚æ•°ï¼šå³å°†è¿åŠ¨èµ·æ¥çš„DOMèŠ‚ç‚¹ï¼š
          </p>
          <pre><code class="language-js"><span class="hljs-keyword">var</span> Animate = function (dom) {
    <span class="hljs-keyword">this</span>.dom = dom;                    <span class="hljs-comment">// è¿›è¡Œè¿åŠ¨çš„domèŠ‚ç‚¹</span>
    <span class="hljs-keyword">this</span>.startTime = <span class="hljs-number">0</span>;                <span class="hljs-comment">// åŠ¨ç”»å¼€å§‹æ—¶é—´</span>
    <span class="hljs-keyword">this</span>.startPos = <span class="hljs-number">0</span>;                <span class="hljs-comment">// åŠ¨ç”»å¼€å§‹æ—¶ï¼ŒdomèŠ‚ç‚¹çš„ä½ç½®ï¼Œå³domçš„åˆå§‹ä½ç½®</span>
    <span class="hljs-keyword">this</span>.endPos = <span class="hljs-number">0</span>;                <span class="hljs-comment">// åŠ¨ç”»ç»“æŸæ—¶ï¼ŒdomèŠ‚ç‚¹çš„ä½ç½®ï¼Œå³domçš„ç›®æ ‡ä½ç½®</span>
    <span class="hljs-keyword">this</span>.propertyName = <span class="hljs-literal">null</span>;        <span class="hljs-comment">// domèŠ‚ç‚¹éœ€è¦è¢«æ”¹å˜çš„csså±æ€§å</span>
    <span class="hljs-keyword">this</span>.easing = <span class="hljs-literal">null</span>;                <span class="hljs-comment">// ç¼“åŠ¨ç®—æ³•</span>
    <span class="hljs-keyword">this</span>.duration = <span class="hljs-literal">null</span>;            <span class="hljs-comment">// åŠ¨ç”»æŒç»­æ—¶é—´</span>
}</code></pre>
          <p>
            æ¥ä¸‹æ¥
            <code>Animate.prototype.start</code>æ–¹æ³•è´Ÿè´£å¯åŠ¨è¿™ä¸ªåŠ¨ç”»ï¼Œåœ¨åŠ¨ç”»è¢«å¯åŠ¨çš„ç¬é—´ï¼Œè¦è®°å½•ä¸€äº›ä¿¡æ¯ï¼Œå…±ç¼“åŠ¨ç®—æ³•åœ¨ä»¥åè®¡ç®—å°çƒå½“å‰ä½ç½®çš„æ—¶å€™ä½¿ç”¨ã€‚åœ¨è®°å½•å®Œè¿™äº›ä¿¡æ¯ä¹‹åï¼Œæ­¤æ–¹æ³•è¿˜è¦è´Ÿè´£å¯åŠ¨å®šæ—¶å™¨ã€‚
          </p>
          <pre><code class="language-js">Animate.prototype.start = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">propertyName, endPos, duration, easing</span>) </span>{
    <span class="hljs-keyword">this</span>.startTime = +<span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>; <span class="hljs-comment">// åŠ¨ç”»å¯åŠ¨æ—¶é—´</span>
    <span class="hljs-keyword">this</span>.startPos = <span class="hljs-keyword">this</span>.dom.getBoundingClientRect()[propertyName]; <span class="hljs-comment">// domèŠ‚ç‚¹åˆå§‹å€¼</span>
    <span class="hljs-keyword">this</span>.propertyName = propertyName; <span class="hljs-comment">// domèŠ‚ç‚¹éœ€è¦è¢«æ”¹å˜çš„CSSå±æ€§å</span>
    <span class="hljs-keyword">this</span>.endPos = endPos; <span class="hljs-comment">// domèŠ‚ç‚¹ç›®æ ‡ä½ç½®</span>
    <span class="hljs-keyword">this</span>.duration = duration; <span class="hljs-comment">// åŠ¨ç”»æŒç»­æ—¶é—´</span>
    <span class="hljs-keyword">this</span>.easing = tween[easing]; <span class="hljs-comment">// é€‰æ‹©ç­–ç•¥å¯¹è±¡ä¸­çš„ç¼“åŠ¨ç®—æ³•</span>

    <span class="hljs-keyword">var</span> self = <span class="hljs-keyword">this</span>;
    <span class="hljs-keyword">var</span> timeId = setInterval(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">if</span> (self.step() === <span class="hljs-literal">false</span>) {
            clearInterval(timeId);
        }
    }, <span class="hljs-number">19</span>);
}</code></pre>
          <p>
            <code>Animate.prototype.start</code>æ–¹æ³•æ¥æ”¶ä¸€ä¸‹4ä¸ªå‚æ•°ï¼š
          </p>
          <ul>
            <li>propertyNameï¼šè¦æ”¹å˜çš„CSSå±æ€§åï¼Œæ¯”å¦‚&quot;left&quot;ï¼Œ&quot;top&quot;ï¼›</li>
            <li>endPosï¼šå°çƒè¿åŠ¨çš„ç›®æ ‡ä½ç½®ï¼›</li>
            <li>durationï¼šåŠ¨ç”»æŒç»­æ—¶é—´ï¼›</li>
            <li>easingï¼šç¼“åŠ¨ç®—æ³•ã€‚</li>
          </ul>
          <p>
            å†æ¥ä¸‹æ¥æ˜¯
            <code>Animate.prototype.step</code>æ–¹æ³•ï¼Œè¯¥æ–¹æ³•ä»£è¡¨å°çƒè¿åŠ¨çš„æ¯ä¸€å¸§è¦åšå¾—äº‹ã€‚åœ¨æ­¤å¤„ï¼Œè¯¥æ–¹æ³•è´Ÿè´£è®¡ç®—å°çƒçš„å½“å‰ä½ç½®å’Œè°ƒç”¨æ›´æ–°CSSå±æ€§å€¼çš„æ–¹æ³•
            <code>Animate.prototype.update</code>ã€‚
          </p>
          <pre><code class="language-JS">Animate.prototype.step = function () {
    <span class="hljs-keyword">var</span> t = +new Date; <span class="hljs-comment">// å–å¾—å½“å‰æ—¶é—´</span>
    <span class="hljs-keyword">if</span> (t &gt;= <span class="hljs-keyword">this</span>.startTime + <span class="hljs-keyword">this</span>.duration) { <span class="hljs-comment">// (1)</span>
        <span class="hljs-keyword">this</span>.update(<span class="hljs-keyword">this</span>.endPos); <span class="hljs-comment">// æ›´æ–°å°çƒçš„CSSå±æ€§</span>

        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
    }

    <span class="hljs-keyword">var</span> pos = <span class="hljs-keyword">this</span>.easing(t - <span class="hljs-keyword">this</span>.startTime, <span class="hljs-keyword">this</span>.startPos,
                          <span class="hljs-keyword">this</span>.endPos - <span class="hljs-keyword">this</span>.startPos, <span class="hljs-keyword">this</span>.duration);

    <span class="hljs-comment">// posä¸ºå°çƒå½“å‰ä½ç½®</span>
    <span class="hljs-keyword">this</span>.update(pos); <span class="hljs-comment">// æ›´æ–°å°çƒçš„CSSå±æ€§å€¼</span>
}</code></pre>
          <p>
            (1)å¤„çš„æ„æ€æ˜¯ï¼Œå¦‚æœå½“å‰æ—¶é—´å¤§äºåŠ¨ç”»å¼€å§‹æ—¶é—´åŠ ä¸ŠåŠ¨ç”»æŒç»­æ—¶é—´ä¹‹å’Œï¼Œè¯´æ˜åŠ¨ç”»å·²ç»ç»“æŸï¼Œæ­¤æ—¶è¦ä¿®æ­£å°çƒçš„ä½ç½®ã€‚å› ä¸ºåœ¨è¿™ä¸€å¸§å¼€å§‹ä¹‹åï¼Œå°çƒçš„ä½ç½®å·²ç»æ¥è¿‘äº†ç›®æ ‡ä½ç½®ï¼Œä½†å¾ˆå¯èƒ½ä¸å®Œå…¨ç­‰äºç›®æ ‡ä½ç½®ã€‚æ­¤æ—¶æˆ‘ä»¬è¦ä¸»åŠ¨ä¿®æ­£å°çƒçš„å½“å‰ä½ç½®ä¸ºæœ€ç»ˆçš„ç›®æ ‡ä½ç½®ã€‚æ­¤å¤–è®©
            <code>Animate.prototype.step</code>æ–¹æ³•è¿”å›falseï¼Œå¯ä»¥é€šçŸ¥
            <code>Animate.prototype.start</code>æ–¹æ³•æ¸…é™¤å®šæ—¶å™¨ã€‚
          </p>
          <p>
            æœ€åè´Ÿè´£æ›´æ–°å°çƒCSSå±æ€§å€¼çš„
            <code>Animate.prototype.update</code>æ–¹æ³•ï¼š
          </p>
          <pre><code class="language-js">Animate.prototype.update = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(pos)</span> </span>{
    <span class="hljs-keyword">this</span>.dom.style[<span class="hljs-keyword">this</span>.propertyName] = pos + <span class="hljs-string">"px"</span>;
};</code></pre>
          <p>ä¸‹é¢æ˜¯æµ‹è¯•ä»£ç ï¼š</p>
          <pre><code class="language-js"><span class="hljs-keyword">var</span> <span class="hljs-keyword">div</span> = document.getElementById(<span class="hljs-string">"div"</span>);
<span class="hljs-keyword">var</span> animate = new Animate(<span class="hljs-keyword">div</span>);

animate.start(<span class="hljs-string">"left"</span>, <span class="hljs-number">500</span>, <span class="hljs-number">1000</span>, <span class="hljs-string">"strongEaseOut"</span>);</code></pre>
          <h2 id="55-æ›´å¹¿ä¹‰çš„ç®—æ³•">5.5 æ›´å¹¿ä¹‰çš„â€ç®—æ³•â€œ</h2>
          <p>ä»å®šä¹‰ä¸Šçœ‹ï¼Œç­–ç•¥æ¨¡å¼å°±æ˜¯ç”¨æ¥å°è£…ç®—æ³•çš„ã€‚ä½†å¦‚æœæŠŠç­–ç•¥æ¨¡å¼ä»…ä»…ç”¨æ¥å°è£…ç®—æ³•æœªå…æœ‰ä¸€ç‚¹å¤§æå°ç”¨ã€‚åœ¨å®é™…å¼€å‘ä¸­ï¼Œæˆ‘ä»¬é€šå¸¸ä¼šæŠŠç®—æ³•çš„å«ä¹‰æ‰©æ•£å¼€æ¥ï¼Œä½¿ç­–ç•¥æ¨¡å¼ä¹Ÿå¯ä»¥ç”¨æ¥å°è£…ä¸€ç³»åˆ—çš„â€œä¸šåŠ¡è§„åˆ™â€ã€‚åªè¦è¿™äº›ä¸šåŠ¡è§„åˆ™æŒ‡å‘çš„ç›®æ ‡ä¸€è‡´ï¼Œå¹¶ä¸”å¯ä»¥è¢«æ›¿æ¢ä½¿ç”¨ï¼Œæˆ‘ä»¬å°±å¯ä»¥ç”¨ç­–ç•¥æ¨¡å¼æ¥å°è£…å®ƒä»¬ã€‚</p>
          <p>GoFåœ¨ã€Šè®¾è®¡æ¨¡å¼ã€‹ä¸€ä¹¦ä¸­æåˆ°äº†ä¸€ä¸ªåˆ©ç”¨ç­–ç•¥æ¨¡å¼æ¥æ•ˆéªŒç”¨æˆ·æ˜¯å¦è¾“å…¥äº†åˆæ³•æ•°æ®çš„ä¾‹å­ï¼Œä½†GoFæœªç»™å‡ºå…·ä½“çš„å®ç°ã€‚åˆšå¥½åœ¨Webå¼€å‘ä¸­ï¼Œè¡¨å•æ ¡éªŒæ˜¯ä¸€ä¸ªéå¸¸å¸¸è§çš„è¯é¢˜ã€‚</p>
          <h2 id="56-è¡¨å•æ ¡éªŒ">5.6 è¡¨å•æ ¡éªŒ</h2>
          <p>å‡è®¾æˆ‘ä»¬æ­£åœ¨ç¼–å†™ä¸€ä¸ªæ³¨å†Œçš„é¡µé¢ï¼Œç‚¹å‡»æ³¨å†ŒæŒ‰é’®ä¹‹å‰ï¼Œæœ‰å¦‚ä¸‹å‡ æ¡æ ¡éªŒé€»è¾‘ï¼š</p>
          <ul>
            <li>ç”¨æˆ·åä¸èƒ½ä¸ºç©ºï¼›</li>
            <li>å¯†ç é•¿åº¦ä¸èƒ½å°‘äº6ä½ï¼›</li>
            <li>æ‰‹æœºå·ç å¿…é¡»ç¬¦åˆæ ¼å¼ã€‚</li>
          </ul>
          <h3 id="561-è¡¨å•æ ¡éªŒçš„ç¬¬ä¸€ä¸ªç‰ˆæœ¬">5.6.1 è¡¨å•æ ¡éªŒçš„ç¬¬ä¸€ä¸ªç‰ˆæœ¬</h3>
          <p>ç›®å‰æ²¡æœ‰å¼•å…¥ç­–ç•¥æ¨¡å¼ï¼š</p>
          <pre><code class="language-js"><span class="hljs-keyword">var</span> registerForm = <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">"registerForm"</span>);

registerForm.onsubmit = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">if</span> (registerForm.userName.value === <span class="hljs-string">""</span>) {
        alert(<span class="hljs-string">"ç”¨æˆ·åä¸èƒ½ä¸ºç©º"</span>);

        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
    }

    <span class="hljs-keyword">if</span> (registerForm.password.value.length &lt; <span class="hljs-number">6</span>) {
        alert(<span class="hljs-string">"å¯†ç é•¿åº¦ä¸èƒ½å°‘äº6ä½"</span>);

        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
    }

    <span class="hljs-keyword">if</span> (!<span class="hljs-regexp">/(^1[358][0-9]{9}$)/</span>.test(registerForm.phoneNumber.value)) {
        alert(<span class="hljs-string">"æ‰‹æœºå·ç æ ¼å¼ä¸æ­£ç¡®"</span>);

        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
    }
}</code></pre>
          <h3 id="562-ç”¨ç­–ç•¥æ¨¡å¼é‡æ„è¡¨å•æ ¡éªŒ">5.6.2 ç”¨ç­–ç•¥æ¨¡å¼é‡æ„è¡¨å•æ ¡éªŒ</h3>
          <pre><code class="language-JS"><span class="hljs-keyword">var</span> strategies = {
    <span class="hljs-attr">isNonEmpty</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">value, errorMsg</span>) </span>{ <span class="hljs-comment">// ä¸ä¸ºç©º</span>
        <span class="hljs-keyword">if</span> (value === <span class="hljs-string">""</span>) {
            <span class="hljs-keyword">return</span> errorMsg;
        }
    },
    <span class="hljs-attr">minLength</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">value, length, errorMsg</span>) </span>{ <span class="hljs-comment">// é™åˆ¶æœ€å°é•¿åº¦</span>
        <span class="hljs-keyword">if</span> (value.length &lt; length) {
            <span class="hljs-keyword">return</span> errorMsg;
        }
    },
    <span class="hljs-attr">isMobile</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">value, errorMsg</span>) </span>{ <span class="hljs-comment">// æ‰‹æœºå·ç æ ¼å¼</span>
        <span class="hljs-keyword">if</span> (!<span class="hljs-regexp">/(^1[3578][0-9]{9}$)/</span>.test(value)) {
            <span class="hljs-keyword">return</span> errorMsg;
        }
    }
}</code></pre>
          <p>
            æ¥ä¸‹æ¥å®ç°
            <code>Validator</code>ç±»ï¼Œå…¶åœ¨è¿™é‡Œä½œä¸ºContextï¼Œè´Ÿè´£æ¥æ”¶ç”¨æˆ·çš„è¯·æ±‚å¹¶å§”æ‰˜ç»™
            <code>strategies</code>å¯¹è±¡ï¼Œä¸è¿‡åœ¨æ­¤ä¹‹å‰ï¼Œæœ‰å¿…è¦äº†è§£ä¸€ä¸‹ç”¨æˆ·å¦‚ä½•å‘
            <code>Validator</code>ç±»å‘é€è¯·æ±‚çš„ï¼š
          </p>
          <pre><code class="language-js"><span class="hljs-keyword">var</span> validataFunc = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">var</span> validator = <span class="hljs-keyword">new</span> Validator();

    <span class="hljs-comment">// æ·»åŠ æ ¡éªŒè§„åˆ™</span>
    validator.add(registerForm.userName, <span class="hljs-string">"isNonEmpty"</span>, <span class="hljs-string">"ç”¨æˆ·åä¸èƒ½ä¸ºç©º"</span>);
    validator.add(registerForm.password, <span class="hljs-string">"minLength:6"</span>, <span class="hljs-string">"å¯†ç é•¿åº¦ä¸èƒ½å°‘äº6ä½"</span>); <span class="hljs-comment">// (1)</span>
    validator.add(registerForm.phoneNumber, <span class="hljs-string">"isMobile"</span>, <span class="hljs-string">"æ‰‹æœºå·ç æ ¼å¼ä¸æ­£ç¡®"</span>);

    <span class="hljs-comment">// è·å–æ ¡éªŒç»“æœ</span>
    <span class="hljs-keyword">var</span> errorMsg = validator.start();

    <span class="hljs-keyword">return</span> errorMsg;
}

<span class="hljs-keyword">var</span> registerForm = <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">"registerForm"</span>);
<span class="hljs-built_in">console</span>.log(registerForm)

registerForm.onsubmit = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{

    <span class="hljs-keyword">var</span> errorMsg = validataFunc();

    <span class="hljs-keyword">if</span> (errorMsg) {
        alert(errorMsg);

        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>; <span class="hljs-comment">// é˜»æ­¢è¡¨å•æäº¤</span>
    }
}</code></pre>
          <p>(1)å¤„ä»£ç è¯´æ˜äº†ï¼š</p>
          <ul>
            <li>
              <code>registerForm.password</code>ä¸ºå‚ä¸æ ¡éªŒçš„inputè¾“å…¥æ¡†ï¼›
            </li>
            <li>&quot;minLength:6&quot;æ˜¯ä¸€ä¸ªä»¥å†’å·éš”å¼€çš„å­—ç¬¦ä¸²ã€‚å†’å·å‰ä»£è¡¨å®¢æˆ·æŒ‘é€‰çš„strategyå¯¹è±¡ï¼Œå†’å·åé¢è¡¨ç¤ºåœ¨æ ¡éªŒè¿‡ç¨‹æ‰€å¿…é¡»çš„ä¸€äº›å‚æ•°ï¼›</li>
            <li>ç¬¬3ä¸ªå‚æ•°æ˜¯å½“æ ¡éªŒæœªé€šè¿‡æ—¶è¿”å›çš„é”™è¯¯ä¿¡æ¯ã€‚</li>
          </ul>
          <p>
            æœ€åæ˜¯
            <code>Validator</code>ç±»çš„å®ç°ï¼š
          </p>
          <pre><code class="language-js"><span class="hljs-keyword">var</span> Validator = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">()</span> </span>{
    <span class="hljs-keyword">this</span>.cache = []; <span class="hljs-comment">// ä¿å­˜æ ¡éªŒè§„åˆ™</span>
};

Validator.prototype.add = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(dom, rule, errorMsg)</span> </span>{
    <span class="hljs-keyword">var</span> ary = rule.split(<span class="hljs-string">":"</span>); <span class="hljs-comment">// æŠŠstrategyå’Œå‚æ•°åˆ†å¼€</span>

    <span class="hljs-keyword">this</span>.cache.push(<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">()</span> </span>{
        <span class="hljs-comment">// æŠŠæ ¡éªŒçš„æ­¥éª¤ç”¨ç©ºå‡½æ•°åŒ…è£…èµ·æ¥ï¼Œå¹¶ä¸”æ”¾å…¥cache</span>
        <span class="hljs-keyword">var</span> strategy = ary.shift(); <span class="hljs-comment">// ç”¨æˆ·æŒ‘é€‰çš„strategy</span>

        ary.unshift(dom.value); <span class="hljs-comment">// æŠŠinputçš„valueæ·»åŠ è¿›å‚æ•°åˆ—è¡¨</span>
        ary.push(errorMsg); <span class="hljs-comment">// æŠŠerrorMsgæ·»åŠ è¿›å‚æ•°åˆ—è¡¨</span>

        <span class="hljs-keyword">return</span> strategies[strategy].apply(dom, ary); <span class="hljs-comment">// è°ƒç”¨ç­–ç•¥å¯¹è±¡ä¸­çš„æ£€æµ‹æ–¹æ³•ï¼Œå¹¶è¿”å›ç»“æœ</span>
    })
}

Validator.prototype.start = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">()</span> </span>{
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>, validatorFunc; validatorFunc = <span class="hljs-keyword">this</span>.cache[i++];) {
        <span class="hljs-keyword">var</span> msg = validatorFunc(); <span class="hljs-comment">// å¼€å§‹æ ¡éªŒï¼Œå¹¶å–å¾—æ ¡éªŒåçš„è¿”å›å€¼</span>

        <span class="hljs-keyword">if</span> (msg) {
            <span class="hljs-keyword">return</span> msg;
        }
    }
};</code></pre>
          <p>å…¨éƒ¨ä»£ç ï¼š</p>
          <pre><code class="language-html"><span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">form</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"registerForm"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"userName"</span>&gt;</span><span
  class="hljs-tag"
>&lt;<span class="hljs-name">br</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"password"</span>&gt;</span><span
  class="hljs-tag"
>&lt;<span class="hljs-name">br</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"phoneNumber"</span>&gt;</span><span
  class="hljs-tag"
>&lt;<span class="hljs-name">br</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"submit"</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
    <span class="hljs-keyword">var</span> strategies = {
        <span class="hljs-attr">isNonEmpty</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">value, errorMsg</span>) </span>{ <span class="hljs-comment">// ä¸ä¸ºç©º</span>
            <span class="hljs-keyword">if</span> (value === <span class="hljs-string">""</span>) {
                <span class="hljs-keyword">return</span> errorMsg;
            }
        },
        <span class="hljs-attr">minLength</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">value, length, errorMsg</span>) </span>{ <span class="hljs-comment">// é™åˆ¶æœ€å°é•¿åº¦</span>
            <span class="hljs-keyword">if</span> (value.length &lt; length) {
                <span class="hljs-keyword">return</span> errorMsg;
            }
        },
        <span class="hljs-attr">isMobile</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">value, errorMsg</span>) </span>{ <span class="hljs-comment">// æ‰‹æœºå·ç æ ¼å¼</span>
            <span class="hljs-keyword">if</span> (!<span class="hljs-regexp">/(^1[3578][0-9]{9}$)/</span>.test(value)) {
                <span class="hljs-keyword">return</span> errorMsg;
            }
        }
    }

    <span class="hljs-keyword">var</span> Validator = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">this</span>.cache = []; <span class="hljs-comment">// ä¿å­˜æ ¡éªŒè§„åˆ™</span>
    };

    Validator.prototype.add = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">dom, rule, errorMsg</span>) </span>{
        <span class="hljs-keyword">var</span> ary = rule.split(<span class="hljs-string">":"</span>); <span class="hljs-comment">// æŠŠstrategyå’Œå‚æ•°åˆ†å¼€</span>

        <span class="hljs-keyword">this</span>.cache.push(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
            <span class="hljs-comment">// æŠŠæ ¡éªŒçš„æ­¥éª¤ç”¨ç©ºå‡½æ•°åŒ…è£…èµ·æ¥ï¼Œå¹¶ä¸”æ”¾å…¥cache</span>
            <span class="hljs-keyword">var</span> strategy = ary.shift(); <span class="hljs-comment">// ç”¨æˆ·æŒ‘é€‰çš„strategy</span>

            ary.unshift(dom.value); <span class="hljs-comment">// æŠŠinputçš„valueæ·»åŠ è¿›å‚æ•°åˆ—è¡¨</span>
            ary.push(errorMsg); <span class="hljs-comment">// æŠŠerrorMsgæ·»åŠ è¿›å‚æ•°åˆ—è¡¨</span>

            <span class="hljs-keyword">return</span> strategies[strategy].apply(dom, ary); <span class="hljs-comment">// è°ƒç”¨ç­–ç•¥å¯¹è±¡ä¸­çš„æ£€æµ‹æ–¹æ³•ï¼Œå¹¶è¿”å›ç»“æœ</span>
        })
    }

    Validator.prototype.start = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>, validatorFunc; validatorFunc = <span class="hljs-keyword">this</span>.cache[i++];) {
            <span class="hljs-keyword">var</span> msg = validatorFunc(); <span class="hljs-comment">// å¼€å§‹æ ¡éªŒï¼Œå¹¶å–å¾—æ ¡éªŒåçš„è¿”å›å€¼</span>

            <span class="hljs-keyword">if</span> (msg) {
                <span class="hljs-keyword">return</span> msg;
            }
        }
    };

    <span class="hljs-keyword">var</span> validataFunc = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> validator = <span class="hljs-keyword">new</span> Validator();

        <span class="hljs-comment">// æ·»åŠ æ ¡éªŒè§„åˆ™</span>
        validator.add(registerForm.userName, <span class="hljs-string">"isNonEmpty"</span>, <span class="hljs-string">"ç”¨æˆ·åä¸èƒ½ä¸ºç©º"</span>);
        validator.add(registerForm.password, <span class="hljs-string">"minLength:6"</span>, <span class="hljs-string">"å¯†ç é•¿åº¦ä¸èƒ½å°‘äº6ä½"</span>); <span class="hljs-comment">// (1)</span>
        validator.add(registerForm.phoneNumber, <span class="hljs-string">"isMobile"</span>, <span class="hljs-string">"æ‰‹æœºå·ç æ ¼å¼ä¸æ­£ç¡®"</span>);

        <span class="hljs-comment">// è·å–æ ¡éªŒç»“æœ</span>
        <span class="hljs-keyword">var</span> errorMsg = validator.start();

        <span class="hljs-keyword">return</span> errorMsg;
    }

    <span class="hljs-keyword">var</span> registerForm = <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">"registerForm"</span>);
    <span class="hljs-built_in">console</span>.log(registerForm)

    registerForm.onsubmit = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{

        <span class="hljs-keyword">var</span> errorMsg = validataFunc();

        <span class="hljs-keyword">if</span> (errorMsg) {
            alert(errorMsg);

            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>; <span class="hljs-comment">// é˜»æ­¢è¡¨å•æäº¤</span>
        }
    }
</span><span
  class="hljs-tag"
>&lt;/<span class="hljs-name">script</span>&gt;</span>

<span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span></code></pre>
          <h3 id="563-ç»™æŸä¸ªæ–‡æœ¬è¾“å…¥æ¡†æ·»åŠ å¤šç§æ ¡éªŒè§„åˆ™">5.6.3 ç»™æŸä¸ªæ–‡æœ¬è¾“å…¥æ¡†æ·»åŠ å¤šç§æ ¡éªŒè§„åˆ™</h3>
          <p>å¦‚æœæˆ‘ä»¬æ—¢æƒ³æ ¡éªŒä¸€ä¸ªè¾“å…¥æ¡†æ˜¯å¦ä¸ºç©ºï¼Œåˆæƒ³æ ¡éªŒå®ƒè¾“å…¥æ–‡æœ¬çš„é•¿åº¦ä¸å°äº10å‘¢ï¼Ÿ</p>
          <p>å¯å‚è€ƒä¸‹é¢çš„ä»£ç </p>
          <pre><code class="language-html"><span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">form</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"registerForm"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"userName"</span>&gt;</span><span
  class="hljs-tag"
>&lt;<span class="hljs-name">br</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"submit"</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
    <span class="hljs-comment">/********************ç­–ç•¥å¯¹è±¡*************************/</span>
    <span class="hljs-keyword">var</span> strategies = {
        <span class="hljs-attr">isNonEmpty</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">value, errorMsg</span>) </span>{ <span class="hljs-comment">// ä¸ä¸ºç©º</span>
            <span class="hljs-keyword">if</span> (value === <span class="hljs-string">""</span>) {
                <span class="hljs-keyword">return</span> errorMsg;
            }
        },
        <span class="hljs-attr">minLength</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">value, length, errorMsg</span>) </span>{ <span class="hljs-comment">// é™åˆ¶æœ€å°é•¿åº¦</span>
            <span class="hljs-keyword">if</span> (value.length &lt; length) {
                <span class="hljs-keyword">return</span> errorMsg;
            }
        },
        <span class="hljs-attr">isMobile</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">value, errorMsg</span>) </span>{ <span class="hljs-comment">// æ‰‹æœºå·ç æ ¼å¼</span>
            <span class="hljs-keyword">if</span> (!<span class="hljs-regexp">/(^1[3578][0-9]{9}$)/</span>.test(value)) {
                <span class="hljs-keyword">return</span> errorMsg;
            }
        }
    }

    <span
  class="hljs-comment"
>/********************Validatorç±»*************************/</span>
    <span class="hljs-keyword">var</span> Validator = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">this</span>.cache = []; <span class="hljs-comment">// ä¿å­˜æ ¡éªŒè§„åˆ™</span>
    };

    Validator.prototype.add = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">dom, rules</span>) </span>{
        <span class="hljs-keyword">var</span> self = <span class="hljs-keyword">this</span>;

        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>, rule; rule = rules[i++];) {
            (<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">rule</span>) </span>{
                <span class="hljs-keyword">var</span> strategyAry = rule.strategy.split(<span class="hljs-string">":"</span>);
                <span class="hljs-keyword">var</span> errorMsg = rule.errorMsg;

                self.cache.push(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
                    <span class="hljs-keyword">var</span> strategy = strategyAry.shift();

                    strategyAry.unshift(dom.value);
                    strategyAry.push(errorMsg);

                    <span
  class="hljs-keyword"
>return</span> strategies[strategy].apply(dom, strategyAry);
                })
            })(rule)
        }
    }

    Validator.prototype.start = <span
  class="hljs-function"
><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>, validatorFunc; validatorFunc = <span class="hljs-keyword">this</span>.cache[i++];) {
            <span class="hljs-keyword">var</span> msg = validatorFunc(); <span class="hljs-comment">// å¼€å§‹æ ¡éªŒï¼Œå¹¶å–å¾—æ ¡éªŒåçš„è¿”å›å€¼</span>

            <span class="hljs-keyword">if</span> (msg) {
                <span class="hljs-keyword">return</span> msg;
            }
        }
    };

    <span
  class="hljs-comment"
>/********************å®¢æˆ·è°ƒç”¨ä»£ç *************************/</span>
    <span class="hljs-keyword">var</span> validataFunc = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> validator = <span class="hljs-keyword">new</span> Validator();

        <span class="hljs-comment">// æ·»åŠ æ ¡éªŒè§„åˆ™</span>
        validator.add(registerForm.userName, [{
            <span class="hljs-attr">strategy</span>: <span class="hljs-string">"isNonEmpty"</span>,
            <span class="hljs-attr">errorMsg</span>: <span class="hljs-string">"ç”¨æˆ·åä¸èƒ½ä¸ºç©º"</span>
        },
        {
            <span class="hljs-attr">strategy</span>: <span class="hljs-string">"minLength:6"</span>,
            <span class="hljs-attr">errorMsg</span>: <span class="hljs-string">"ç”¨æˆ·åé•¿åº¦ä¸èƒ½å°‘äº6ä½"</span>
        }]);

        <span class="hljs-comment">// è·å–æ ¡éªŒç»“æœ</span>
        <span class="hljs-keyword">var</span> errorMsg = validator.start();

        <span class="hljs-keyword">return</span> errorMsg;
    }

    <span class="hljs-keyword">var</span> registerForm = <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">"registerForm"</span>);

    registerForm.onsubmit = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{

        <span class="hljs-keyword">var</span> errorMsg = validataFunc();

        <span class="hljs-keyword">if</span> (errorMsg) {
            alert(errorMsg);

            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>; <span class="hljs-comment">// é˜»æ­¢è¡¨å•æäº¤</span>
        }
    }
</span><span
  class="hljs-tag"
>&lt;/<span class="hljs-name">script</span>&gt;</span>

<span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span></code></pre>
          <h2 id="57-ç­–ç•¥æ¨¡å¼çš„ä¼˜ç¼ºç‚¹">5.7 ç­–ç•¥æ¨¡å¼çš„ä¼˜ç¼ºç‚¹</h2>
          <p>
            <strong>ä¼˜ç‚¹</strong>ï¼š
          </p>
          <ul>
            <li>ç­–ç•¥æ¨¡å¼åˆ©ç”¨ç»„åˆã€å§”æ‰˜å’Œå¤šæ€ç­‰æŠ€æœ¯å’Œæ€æƒ³ï¼Œå¯ä»¥æœ‰æ•ˆåœ°é¿å…å¤šé‡æ¡ä»¶é€‰æ‹©è¯­å¥ï¼›</li>
            <li>
              ç­–ç•¥æ¨¡å¼æä¾›äº†å¯¹
              <a href="https://blog.csdn.net/allenliu6/article/details/53069625">å¼€æ”¾â€”å°é—­åŸåˆ™</a>çš„å®Œç¾æ”¯æŒï¼Œå°†ç®—æ³•å°è£…åœ¨ç‹¬ç«‹çš„strategyä¸­ï¼Œä½¿å¾—å®ƒä»¬æ˜“äºåˆ‡æ¢ï¼Œæ˜“äºç†è§£ï¼Œæ˜“äºæ‰©å±•ï¼›
            </li>
            <li>ç­–ç•¥æ¨¡å¼ä¸­çš„ç®—æ³•ä¹Ÿå¯ä»¥å¤ç”¨åœ¨ç³»ç»Ÿçš„å…¶ä»–åœ°æ–¹ï¼Œä»è€Œé¿å…è®¸å¤šé‡å¤çš„å¤åˆ¶ç²˜è´´å·¥ä½œï¼›</li>
            <li>åœ¨ç­–ç•¥æ¨¡å¼ä¸­åˆ©ç”¨ç»„åˆå’Œå§”æ‰˜æ¥è®©Contextæ‹¥æœ‰æ‰§è¡Œç®—æ³•çš„èƒ½åŠ›ï¼Œè¿™ä¹Ÿæ˜¯ç»§æ‰¿çš„ä¸€ç§æ›´è½»ä¾¿çš„æ›¿ä»£æ–¹æ¡ˆã€‚</li>
          </ul>
          <p>
            <strong>ç¼ºç‚¹</strong>ï¼š
          </p>
          <ul>
            <li>é¦–å…ˆï¼Œæ˜¯ç”¨ç­–ç•¥æ¨¡å¼ä¼šåœ¨ç¨‹åºä¸­å¢åŠ è®¸å¤šç­–ç•¥ç±»æˆ–è€…ç­–ç•¥å¯¹è±¡ï¼Œä½†å®é™…ä¸Šè¿™æ¯”æŠŠå®ƒä»¬è´Ÿè´£çš„é€»è¾‘å †ç Œåœ¨Contextä¸­è¦å¥½ï¼›</li>
            <li>
              å…¶æ¬¡ï¼Œè¦ä½¿ç”¨ç­–ç•¥æ¨¡å¼ï¼Œå¿…é¡»äº†è§£æ‰€æœ‰çš„strategyï¼Œå¿…é¡»äº†è§£å„ä¸ªstrategyä¹‹å‰çš„ä¸åŒç‚¹ï¼Œè¿™æ ·æ‰èƒ½é€‰æ‹©ä¸€ä¸ªåˆé€‚çš„strategyã€‚å¦‚æœï¼Œæˆ‘ä»¬è¦é€‰æ‹©ä¸€ç§åˆé€‚çš„æ—…æ¸¸å‡ºè¡Œè·¯çº¿ï¼Œå¿…é¡»å…ˆäº†è§£é€‰æ‹©é£æœºã€ç«è½¦ã€è‡ªè¡Œè½¦ç­‰æ–¹æ¡ˆçš„ç»†èŠ‚ã€‚æ­¤æ—¶strategyè¦å‘å®¢æˆ·æš´éœ²å®ƒçš„æ‰€æœ‰å®ç°ï¼Œè¿™æ˜¯è¿å
              <a
                href="https://www.jianshu.com/p/fbac86119aee"
              >æœ€å°‘çŸ¥è¯†åŸåˆ™</a>çš„ã€‚
            </li>
          </ul>
          <h2 id="58-ä¸€ç­‰å‡½æ•°å¯¹è±¡ä¸ç­–ç•¥æ¨¡å¼">5.8 ä¸€ç­‰å‡½æ•°å¯¹è±¡ä¸ç­–ç•¥æ¨¡å¼</h2>
          <p>
            <font color="eb2f06">ğŸ¤”ï¼šè¿™é‡Œæ²¡è¯»æ‡‚ï¼ŒçŒœæµ‹ç¬”è€…å¯èƒ½æƒ³è¯´æ˜â€œé«˜é˜¶å‡½æ•°çš„ä½¿ç”¨æœ¬èº«å°±æ˜¯ä¸€ç§ç­–ç•¥æ¨¡å¼â€è¿™ä¸€è§‚ç‚¹ã€‚</font>
          </p>

          <pre><code class="language-html">&lt;div <span class="hljs-class"><span class="hljs-keyword">class</span></span>=<span class="hljs-string">"detail-left"</span>&gt;
   <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>ç¬¬ 2 ç«  æ¨¡å—æœºåˆ¶<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></span>
   <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>CommenJSçš„æ¨¡å—è§„èŒƒ<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></span>
   <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>CommenJSå¯¹æ¨¡å—çš„å®šä¹‰ååˆ†ç®€å•ï¼Œä¸»è¦åˆ†ä¸º3éƒ¨åˆ†ï¼š<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></span>
   <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">ul</span>&gt;</span>
     <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>æ¨¡å—å¼•ç”¨<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
     <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>æ¨¡å—å®šä¹‰<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
     <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>æ¨¡å—æ ‡è¯†<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
   <span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span></span>
   <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>æ¨¡å—å¼•ç”¨<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></span>
<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>/&gt;</span></span></code></pre>
        </div>
      </div>
      <div class="detail-right"></div>
    </div>
  </div>
</template>

<script>
export default {
  methods: {
    backHome() {
      this.$router.push("blog")
    }
  }
};
</script>

<style lang="less" scoped>
@import url("../assets/css/highlight.css");
.detail-container {
  min-height: 100vh;
}

.detail-wrap {
  height: 100%;
  display: flex;
}

.detail-left {
  flex: 7;

  .back {
    width: 80%;
    margin: 0 auto;
    padding-left: 50px;
    margin-top: 50px;

    .back-to-home {
      height: 3vh;
      transform: rotate(180deg);
      cursor: pointer;
    }
  }

  .content {
    font-size: 18px;
    .createtime {
      color: @assistColor;
    }
  }
}

.detail-right {
  flex: 3;
}

// å¹³æ¿ç«¯é€‚é…
@media screen and (max-width: 900px) and (min-width: 768px) {
  .detail-right {
    flex: 0 !important;
  }

  .back {
    padding-left: 0 !important;
  }
}

// æ‰‹æœºç«¯é€‚é…
@media screen and (max-width: 500px) {
  .detail-right {
    flex: 0 !important;
  }

  .back {
    padding-left: 0 !important;
  }
}
</style>